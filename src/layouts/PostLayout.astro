---
interface Frontmatter {
  title: string;
  description?: string;
  pubDate?: string | Date;
  tags?: string[];
}
const fm = Astro.props as Frontmatter;
const d = fm.pubDate ? new Date(fm.pubDate) : undefined;
const title = `${fm.title} • Lê Nguyễn Duy Khang`;
const desc = fm.description ?? 'Bài viết blog về Java/JavaScript và lập trình mạng.';
const tags = fm.tags ?? [];
---
<html lang="vi">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>{title}</title>
    <meta name="description" content={desc} />
    <meta name="keywords" content={(tags.join(', ') + ', lập trình Java, JavaScript')} />
    <meta property="og:type" content="article" />
    <meta property="og:title" content={title} />
    <meta property="og:description" content={desc} />
    <meta property="og:image" content="/images/java.svg" />
    <link rel="stylesheet" href="/src/styles/global.css" />
    <link rel="icon" href="/images/js.svg" />
  </head>
  <body>
    <import src="../components/Nav.astro" />
    <div class="container section post">
      <header>
        <h1>{fm.title}</h1>
        <div class="meta">
          {d ? d.toLocaleDateString('vi-VN') : ''} · {tags.length ? tags.join(' • ') : 'Blog'}
        </div>
      </header>
      <article class="content">
        <slot />
      </article>

      <section aria-label="Bình luận" style="margin-top:28px">
        <div class="card">
          <strong>Bình luận</strong>
          <p style="color:var(--muted); margin:.4rem 0 0">
            Tính năng bình luận sẽ sớm được kích hoạt (Giscus). Hãy quay lại sau nhé!
          </p>
        </div>
      </section>
    </div>
    <import src="../components/Footer.astro" />
  </body>
</html>